{% load humanize human_duration %}

<tr id="{{ booking.sqid }}">
    <td>{{ booking.pets.all|join:", " }}</td>
    {% if hide_customer != True %}<td>{{ booking.customer.name }}</td>{% endif %}
    <td>{{ booking.service }}</td>
    <td><span data-tooltip="{{ booking.start|naturaltime }}">{{ booking.start }}</span></td>
    <td><span data-tooltip="{{ booking.length|precisedelta }}">{{ booking.length|naturaldelta }}</span></td>
    <td>{{ booking.state|title }}</td>
    <td>
        <a href="{% url 'booking_detail' booking.sqid %}">Details</a>
        {% for transition in booking.available_state_transitions %}
            <a
                hx-target="#{{ booking.sqid }}"
                hx-swap="outerHTML"
                hx-get="{% url 'booking_action' booking.sqid transition %}"
                href="{% url 'booking_action' booking.sqid transition %}"
            >
                {{ transition|title }}
            </a>
        {% endfor %}
    </td>
</tr>
