{% extends 'base.html' %}

{% load field_tags %}


{% block content %}
    <div class="inline gap">
        <div class="details" role="main">
            <div class="name">{{ customer.name }}</div>
            <div class="email">{{ customer.invoice_email }}</div>
            {{ customer.invoice_address|linebreaks }}
        </div>
        <aside>
            <nav>
                <ul>
                    <li><a href="{% url 'customer_update' customer.id %}">Edit</a></li>
                    <li><a hx-get="{% url 'customer_delete' customer.id %}" hx-swap="afterend" href="{% url 'customer_delete' customer.id %}">Delete</a></li>
                </ul>
            </nav>
        </aside>
    </div>
    <h3>Pets</h3>
    <div class="columns half">
        {% for pet in customer.active_pets %}
            {% include "components/card.html" with title=pet.name type="Pet" description=pet.description %}
        {% empty %}
            <p>No pets</p>
        {% endfor %}
    </div>

    <h3>Contacts</h3>
    <div class="columns third">
        {% for contact in customer.contacts.all %}
            {% include "components/card.html" with title=contact.name type="Contact" description=contact.details %}
        {% empty %}
            <p>No contacts</p>
        {% endfor %}
    </div>
{% endblock %}
