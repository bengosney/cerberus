{% extends 'base.html' %} {% load crispy_forms_tags %} {% block breadcrumbs %}
  <div class="container">
    <nav class="breadcrumb" aria-label="breadcrumbs">
      <ul>
        <li><a href="{% url 'dashboard' %}">Dashboard</a></li>
        <li><a href="{% url 'invoice_list' %}">Invoices</a></li>
        {% if object %}
          <li>
            <a href="{% url 'invoice_detail' object.id %}">{{ object.name }}</a>
          </li>
          <li class="is-active">
            <a aria-current="page" href="{% url 'invoice_update' object.id %}"
            >Edit</a
              >
            </li>
        {% else %}
          <li class="is-active">
            <a aria-current="page" href="{% url 'invoice_create' %}">Create</a>
          </li>
        {% endif %}
      </ul>
    </nav>
  </div>
{% endblock %} {% block content %}

  <h2>Edit: {{ object.name }}</h2>

  <form method="post">
    {{ formset.management_form }}
    {% for f in formset %}
      <div class="inline gap" x-data="{ line: '', quantity: '' }">
        {{ f|crispy }}
        <div class="field">
          <label class="label"> Total </label>
          <div class="control">
            <input readonly type="number" x-model.number="line * quantity" class="numberinput input" />
          </div>
        </div>
      </div>
    {% endfor %}

    <hr />

    {{ form|crispy }} {% csrf_token %}
    <input type="submit" class="button" value="Save" />
  </form>
{% endblock %}
