<div class="tag-input" x-data="{{# fmt:off #}
    tags: [{{ tags }}],
    addTag(event) {
        if (!event.target.value) return;
        this.tags.push(event.target.value);
        event.target.value = '';
    }
{# fmt:on #}}">

    <div class="tag-container">
        <template x-for="tag in tags">
            <span class="tag">
                <span x-text="tag"></span>
                <span class="tag-close" @click="tags = tags.filter(t => t != tag)">&#x2715;</span>
            </span>
        </template>
    </div>
    <input
        type="{{ widget.type }}"
        {% include "django/forms/widgets/attrs.html" %}
        @keydown.prevent.enter="addTag($event)"
        @blur="addTag($event)"
    >
    <input name="{{ widget.name }}" type="hidden" x-model="tags" readonly />
</div>
