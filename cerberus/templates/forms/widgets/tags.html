<div x-data="{{# fmt:off #}
    tags: [{{ tags }}],
    addTag(event) {
        if (!event.target.value) return;
        this.tags.push(event.target.value);
        event.target.value = '';
    },
    removeTag(tag) {
        tags = tags.filter(t => t != tag);
    }
{# fmt:on #}}">

    <div>
        <template x-for="tag in tags">
            <span class="tag">
                <span x-text="tag"></span>
                <span @click="removeTag(tag)">&#x2715;</span>
            </span>
        </template>
    </div>
    <input
        type="{{ widget.type }}"
        {% include "django/forms/widgets/attrs.html" %}
        @keydown.window.prevent.enter="addTag($event)"
        @blur="addTag($event)"
    >

    <input name="{{ widget.name }}" type="hidden" x-model="tags" readonly />

</div>
