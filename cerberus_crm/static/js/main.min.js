(()=>{var m="toast-container",i=document,w=()=>{let t=i.createElement("div");return t.className=m,i.body.appendChild(t),t},v=()=>i.querySelector(`.${m}`)||w(),r=(t,n="info",e=3e3)=>{let s=v(),o=i.createElement("div");o.classList.add("toast",n),o.innerHTML=t,s.appendChild(o),o.addEventListener("click",()=>o.classList.add("remove")),o.addEventListener("animationend",a=>{switch(a.animationName){case"remove":s.removeChild(o);break;case"add":setTimeout(()=>o.classList.add("remove"),e);break}})};var T=async(t,n)=>{let e=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":window.CSRFToken},body:JSON.stringify(n)}),s=await e.json();if(!e.ok||!s){let o=s.detail||e.statusText;throw new Error(o)}return s},l=async(t,n,e)=>{let s=n.querySelector(e)||n,o=t.parentElement,{moveUrl:a}=t.dataset;if(a){s.appendChild(t);let{datetime:u}=n.dataset;try{let c=await T(a,{to:u});return r("Saved: OK","success"),c}catch(c){return o&&o.appendChild(t),r(`${c}`,"error"),{}}}else throw new Error("Move URL is not provided.")};var d=Math.round,p=(t,n=15)=>{let e=new Date(t);return e.setMilliseconds(d(e.getMilliseconds()/1e3)*1e3),e.setSeconds(d(e.getSeconds()/60)*60),e.setMinutes(d(e.getMinutes()/n)*n),e.toISOString().slice(0,-8)};window.moveBooking=l;window.toast=r;window.roundTime=p;})();
//# sourceMappingURL=main.min.js.map
