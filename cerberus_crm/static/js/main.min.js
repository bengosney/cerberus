(()=>{var c=Math.round,s=document;var l="toast-container",M=()=>{let t=s.createElement("div");return t.className=l,s.body.appendChild(t),t},y=()=>s.querySelector(`.${l}`)||M(),a=(t,e="info",o=3e3)=>{let r=y(),n=s.createElement("div");n.classList.add("toast",e),n.innerHTML=t,r.appendChild(n),n.addEventListener("click",()=>n.classList.add("remove")),n.addEventListener("animationend",d=>{switch(d.animationName){case"remove":r.removeChild(n);break;case"add":setTimeout(()=>n.classList.add("remove"),o);break}})};var h=async(t,e)=>{let o=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":window.CSRFToken},body:JSON.stringify(e)}),r=await o.json();if(!o.ok||!r){let n=r.detail||o.statusText;throw new Error(n)}return r},g=async(t,e,o)=>{let r=e.querySelector(o)||e,n=t.parentElement,{moveUrl:d}=t.dataset;if(d){t.matches(o)&&console.log("TODO: Move booking to the same container"),r.appendChild(t);let{datetime:v}=e.dataset;try{let p=await h(d,{to:v});return a("Saved: OK","success"),p}catch(p){return n&&n.appendChild(t),a(`${p}`,"error"),{}}}else throw new Error("Move URL is not provided.")};var T=(t,e)=>t.toString().padStart(e,"0").slice(-e);var m=t=>T(t,2),u=t=>{let e=typeof t=="string"?new Date(t):t;return`${e.getFullYear()}-${m(e.getMonth()+1)}-${m(e.getDate())}T${m(e.getHours())}:${m(e.getMinutes())}`},f=(t,e=15)=>{let o=new Date(t);return o.setMilliseconds(c(o.getMilliseconds()/1e3)*1e3),o.setSeconds(c(o.getSeconds()/60)*60),o.setMinutes(c(o.getMinutes()/e)*e),u(o)},w=(t,e)=>new Date(new Date(t).getTime()+e*6e4);var i=window;i.moveBooking=g;i.toast=a;i.roundTime=f;i.addMinutes=w;i.dateToString=u;})();
//# sourceMappingURL=main.min.js.map
