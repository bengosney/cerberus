(()=>{var c=Math.round,s=document;var u="toast-container",w=()=>{let e=s.createElement("div");return e.className=u,s.body.appendChild(e),e},v=()=>s.querySelector(`.${u}`)||w(),a=(e,n="info",t=3e3)=>{let r=v(),o=s.createElement("div");o.classList.add("toast",n),o.innerHTML=e,r.appendChild(o),o.addEventListener("click",()=>o.classList.add("remove")),o.addEventListener("animationend",d=>{switch(d.animationName){case"remove":r.removeChild(o);break;case"add":setTimeout(()=>o.classList.add("remove"),t);break}})};var y=async(e,n)=>{let t=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":window.CSRFToken},body:JSON.stringify(n)}),r=await t.json();if(!t.ok||!r){let o=r.detail||t.statusText;throw new Error(o)}return r},l=async(e,n,t)=>{let r=n.querySelector(t)||n,o=e.parentElement,{moveUrl:d}=e.dataset;if(d){r.appendChild(e);let{datetime:f}=n.dataset;try{let m=await y(d,{to:f});return a("Saved: OK","success"),m}catch(m){return o&&o.appendChild(e),a(`${m}`,"error"),{}}}else throw new Error("Move URL is not provided.")};var p=e=>new Date(e).toISOString().slice(0,-8),T=(e,n=15)=>{let t=new Date(e);return t.setMilliseconds(c(t.getMilliseconds()/1e3)*1e3),t.setSeconds(c(t.getSeconds()/60)*60),t.setMinutes(c(t.getMinutes()/n)*n),p(t)},g=(e,n)=>new Date(new Date(e).getTime()+n*6e4);var i=window;i.moveBooking=l;i.toast=a;i.roundTime=T;i.addMinutes=g;i.dateToString=p;})();
//# sourceMappingURL=main.min.js.map
