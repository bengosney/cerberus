(()=>{var i="toast-container",l=()=>{let e=document.createElement("div");return e.className=i,document.body.appendChild(e),e},v=()=>document.querySelector(`.${i}`)||l(),s=(e,n="info",a=3e3)=>{let o=v(),t=document.createElement("div");t.classList.add("toast",n),t.innerHTML=e,o.appendChild(t),t.addEventListener("click",()=>t.classList.add("remove")),t.addEventListener("animationend",r=>{switch(r.animationName){case"remove":o.removeChild(t);break;case"add":setTimeout(()=>t.classList.add("remove"),a);break}})};var d=async(e,n)=>{let a=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":window.CSRFToken},body:JSON.stringify(n)}),o=await a.json();if(!a.ok||!o){let t=o.detail||a.statusText;throw new Error(t)}return o},m=async(e,n)=>{let a=n.querySelector("ul")||n,o=e.parentElement,{moveUrl:t}=e.dataset;if(t){a.appendChild(e);let r=`${n.dataset.date}T${e.dataset.time}`;try{let c=await d(t,{to:r});return s("Saved: OK","success"),c}catch(c){return o&&o.appendChild(e),s(`${c}`,"error"),{}}}else throw new Error("Move URL is not provided.")},p=async(e,n)=>{let a=n.querySelector(".booking-group")||n,o=e.parentElement,{moveUrl:t}=e.dataset;if(t){a.appendChild(e);try{let r=await d(t,{to:n.dataset.time});return s("Saved: OK","success"),r}catch(r){return o&&o.appendChild(e),s(`${r}`,"error"),{}}}else throw new Error("Move URL is not provided.")};window.moveBooking=p;window.moveBookingDay=m;window.toast=s;})();
//# sourceMappingURL=main.min.js.map
