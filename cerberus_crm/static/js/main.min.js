(()=>{var m=Math.round,i=document;var g="toast-container",M=()=>{let t=i.createElement("div");return t.className=g,i.body.appendChild(t),t},S=()=>i.querySelector(`.${g}`)||M(),c=(t,e="info",o=3e3)=>{let r=S(),n=i.createElement("div");n.classList.add("toast",e),n.innerHTML=t,r.appendChild(n),n.addEventListener("click",()=>n.classList.add("remove")),n.addEventListener("animationend",d=>{switch(d.animationName){case"remove":r.removeChild(n);break;case"add":setTimeout(()=>n.classList.add("remove"),o);break}})};var f=(t,e,o)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:o}))};var x=async(t,e)=>{let o=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":window.CSRFToken},body:JSON.stringify(e)}),r=await o.json();if(!o.ok||!r){let n=r.detail||o.statusText;throw new Error(n)}return r},l=async(t,e,o)=>{let r=e.querySelector(o)||e,n=t.parentElement,{moveUrl:d}=t.dataset;if(d){t.matches(o)&&r.matches(o)?(Array.from(t.children).forEach(s=>r.appendChild(s)),t.remove()):r.appendChild(t);let{datetime:y}=e.dataset;try{let s=await x(d,{to:y});return c("Saved: OK","success"),f(t,"booking-moved",s),s}catch(s){return n&&n.appendChild(t),c(`${s}`,"error"),{}}}else throw new Error("Move URL is not provided.")};var T=(t,e)=>t.toString().padStart(e,"0").slice(-e);var p=t=>T(t,2),u=t=>{let e=typeof t=="string"?new Date(t):t;return`${e.getFullYear()}-${p(e.getMonth()+1)}-${p(e.getDate())}T${p(e.getHours())}:${p(e.getMinutes())}`},h=(t,e=15)=>{let o=new Date(t);return o.setMilliseconds(m(o.getMilliseconds()/1e3)*1e3),o.setSeconds(m(o.getSeconds()/60)*60),o.setMinutes(m(o.getMinutes()/e)*e),u(o)},w=(t,e)=>new Date(new Date(t).getTime()+e*6e4);var v=async(t,e)=>await(await fetch(`${t}?startswith=${e}`)).json();var a=window;a.moveBooking=l;a.toast=c;a.roundTime=h;a.addMinutes=w;a.dateToString=u;a.fetchTags=v;})();
//# sourceMappingURL=main.min.js.map
