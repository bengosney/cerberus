(()=>{var c=Math.round,s=document;var m="toast-container",w=()=>{let t=s.createElement("div");return t.className=m,s.body.appendChild(t),t},f=()=>s.querySelector(`.${m}`)||w(),a=(t,n="info",e=3e3)=>{let r=f(),o=s.createElement("div");o.classList.add("toast",n),o.innerHTML=t,r.appendChild(o),o.addEventListener("click",()=>o.classList.add("remove")),o.addEventListener("animationend",i=>{switch(i.animationName){case"remove":r.removeChild(o);break;case"add":setTimeout(()=>o.classList.add("remove"),e);break}})};var v=async(t,n)=>{let e=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":window.CSRFToken},body:JSON.stringify(n)}),r=await e.json();if(!e.ok||!r){let o=r.detail||e.statusText;throw new Error(o)}return r},p=async(t,n,e)=>{let r=n.querySelector(e)||n,o=t.parentElement,{moveUrl:i}=t.dataset;if(i){r.appendChild(t);let{datetime:u}=n.dataset;try{let d=await v(i,{to:u});return a("Saved: OK","success"),d}catch(d){return o&&o.appendChild(t),a(`${d}`,"error"),{}}}else throw new Error("Move URL is not provided.")};var l=(t,n=15)=>{let e=new Date(t);return e.setMilliseconds(c(e.getMilliseconds()/1e3)*1e3),e.setSeconds(c(e.getSeconds()/60)*60),e.setMinutes(c(e.getMinutes()/n)*n),e.toISOString().slice(0,-8)};window.moveBooking=p;window.toast=a;window.roundTime=l;})();
//# sourceMappingURL=main.min.js.map
