{
  "version": 3,
  "sources": ["../../../assets/typescript/toast.ts", "../../../assets/typescript/bookings.ts", "../../../assets/typescript/main.ts"],
  "sourcesContent": ["const className = 'toast-container';\n\nconst createContainer = (): HTMLElement => {\n    const container = document.createElement('div');\n    container.className = className;\n    document.body.appendChild(container);\n    return container;\n}\n\nconst getContainer = (): HTMLElement => {\n    return document.querySelector(`.${className}`) || createContainer();\n}\n\nexport type ToastType = \"success\" | \"error\" | \"warn\" | \"info\";\n\nexport const toast = (message: string, type: ToastType = \"info\", duration: number = 3000) => {\n    const container = getContainer();\n    const toast = document.createElement('div');\n    toast.classList.add('toast', type);\n    toast.innerHTML = message;\n    container.appendChild(toast);\n\n    toast.addEventListener('click', () => toast.classList.add('remove'));\n    toast.addEventListener(\"animationend\", (event) => {\n        switch (event.animationName) {\n            case 'remove':\n                container.removeChild(toast);\n                break;\n            case 'add':\n                setTimeout(() => toast.classList.add('remove'), duration);\n                break;\n        }\n    });\n}\n", "import { dispatchEvent } from \"./events\";\nimport { toast } from \"./toast\";\n\ndeclare global {\n    interface Window {\n        CSRFToken: string;\n    }\n}\n\nconst makeRequest = async (url: string, body: object): Promise<object> => {\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json', 'X-CSRFToken': window.CSRFToken },\n        body: JSON.stringify(body)\n    });\n    const data = await response.json();\n    if (!response.ok || !data) {\n        const message = data.detail || response.statusText;\n        throw new Error(message);\n    }\n\n    return data;\n}\n\nexport const moveBooking = async (bookingElement: HTMLElement, bookingTarget: HTMLElement, containerSelector: string): Promise<object> => {\n    const container = bookingTarget.querySelector(containerSelector) || bookingTarget;\n    const parent = bookingElement.parentElement;\n\n    const { moveUrl } = bookingElement.dataset;\n    if (moveUrl) {\n        container.appendChild(bookingElement);\n\n        const { datetime } = bookingTarget.dataset;\n        try {\n            const data = await makeRequest(moveUrl, { to: datetime });\n            toast('Saved: OK', 'success');\n            return data;\n        } catch (error) {\n            parent && parent.appendChild(bookingElement);\n            toast(`${error}`, \"error\");\n            return {};\n        }\n    } else {\n        throw new Error(\"Move URL is not provided.\");\n    }\n}\n", "import { moveBooking } from './bookings';\nimport { toast } from './toast';\n\ndeclare global {\n    interface Window {\n        moveBooking: typeof moveBooking;\n        toast: typeof toast;\n    }\n}\n\nwindow.moveBooking = moveBooking;\nwindow.toast = toast;\n"],
  "mappings": "MAAA,IAAMA,EAAY,kBAEZC,EAAkB,IAAmB,CACvC,IAAMC,EAAY,SAAS,cAAc,KAAK,EAC9C,OAAAA,EAAU,UAAYF,EACtB,SAAS,KAAK,YAAYE,CAAS,EAC5BA,CACX,EAEMC,EAAe,IACV,SAAS,cAAc,IAAIH,CAAS,EAAE,GAAKC,EAAgB,EAKzDG,EAAQ,CAACC,EAAiBC,EAAkB,OAAQC,EAAmB,MAAS,CACzF,IAAML,EAAYC,EAAa,EACzBC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAU,IAAI,QAASE,CAAI,EACjCF,EAAM,UAAYC,EAClBH,EAAU,YAAYE,CAAK,EAE3BA,EAAM,iBAAiB,QAAS,IAAMA,EAAM,UAAU,IAAI,QAAQ,CAAC,EACnEA,EAAM,iBAAiB,eAAiBI,GAAU,CAC9C,OAAQA,EAAM,cAAe,CACzB,IAAK,SACDN,EAAU,YAAYE,CAAK,EAC3B,MACJ,IAAK,MACD,WAAW,IAAMA,EAAM,UAAU,IAAI,QAAQ,EAAGG,CAAQ,EACxD,KACR,CACJ,CAAC,CACL,ECxBA,IAAME,EAAc,MAAOC,EAAaC,IAAkC,CACtE,IAAMC,EAAW,MAAM,MAAMF,EAAK,CAC9B,OAAQ,MACR,QAAS,CAAE,eAAgB,mBAAoB,cAAe,OAAO,SAAU,EAC/E,KAAM,KAAK,UAAUC,CAAI,CAC7B,CAAC,EACKE,EAAO,MAAMD,EAAS,KAAK,EACjC,GAAI,CAACA,EAAS,IAAM,CAACC,EAAM,CACvB,IAAMC,EAAUD,EAAK,QAAUD,EAAS,WACxC,MAAM,IAAI,MAAME,CAAO,CAC3B,CAEA,OAAOD,CACX,EAEaE,EAAc,MAAOC,EAA6BC,EAA4BC,IAA+C,CACtI,IAAMC,EAAYF,EAAc,cAAcC,CAAiB,GAAKD,EAC9DG,EAASJ,EAAe,cAExB,CAAE,QAAAK,CAAQ,EAAIL,EAAe,QACnC,GAAIK,EAAS,CACTF,EAAU,YAAYH,CAAc,EAEpC,GAAM,CAAE,SAAAM,CAAS,EAAIL,EAAc,QACnC,GAAI,CACA,IAAMJ,EAAO,MAAMJ,EAAYY,EAAS,CAAE,GAAIC,CAAS,CAAC,EACxD,OAAAC,EAAM,YAAa,SAAS,EACrBV,CACX,OAASW,EAAO,CACZ,OAAAJ,GAAUA,EAAO,YAAYJ,CAAc,EAC3CO,EAAM,GAAGC,CAAK,GAAI,OAAO,EAClB,CAAC,CACZ,CACJ,KACI,OAAM,IAAI,MAAM,2BAA2B,CAEnD,ECnCA,OAAO,YAAcC,EACrB,OAAO,MAAQC",
  "names": ["className", "createContainer", "container", "getContainer", "toast", "message", "type", "duration", "event", "makeRequest", "url", "body", "response", "data", "message", "moveBooking", "bookingElement", "bookingTarget", "containerSelector", "container", "parent", "moveUrl", "datetime", "toast", "error", "moveBooking", "toast"]
}
